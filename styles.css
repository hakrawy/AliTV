:root { --bg:#0b0b0f; --bg2:#121218; --fg:#fff; --accent:#e50914; --muted:#9aa; }
*{box-sizing:border-box}
body.dark{background:linear-gradient(180deg,#100b0f 0%,#0b0b0f 60%);color:var(--fg);margin:0;font-family:"Tajawal",system-ui,Segoe UI,Arial}
a{color:inherit;text-decoration:none}

/* Splash */
#splash{position:fixed;inset:0;background:radial-gradient(circle at 20% 20%, #1a0e12, #0b0b0f 60%);display:flex;align-items:center;justify-content:center;z-index:999}
#splash .logo-anim{font-size:56px;font-weight:900;letter-spacing:1px;color:#fff;text-shadow:0 0 18px rgba(229,9,20,.8);opacity:0;transform:translateY(10px) scale(.96);animation:pop 1.2s ease forwards}
#splash .tagline{margin-top:12px;color:#ddd;opacity:0;animation:fadein 1.8s ease .4s forwards}
@keyframes pop{to{opacity:1;transform:translateY(0) scale(1)}}
@keyframes fadein{to{opacity:1}}

/* Header */
#topbar{position:sticky;top:0;display:flex;align-items:center;gap:12px;justify-content:space-between;background:rgba(11,11,15,.85);backdrop-filter:blur(6px);padding:10px 14px;border-bottom:1px solid #222;z-index:50}
.brand{font-weight:900;font-size:22px}
.glow{text-shadow:0 0 8px rgba(229,9,20,.65)}
.tabs .tab-btn{background:transparent;border:0;color:#ddd;margin:0 2px;padding:8px 10px;border-radius:8px;cursor:pointer}
.tabs .tab-btn:hover,.tabs .tab-btn.active{background:#1e1e24;color:#fff}
.right-tools{display:flex;align-items:center;gap:8px}
.right-tools input, .right-tools select{background:#1a1a20;border:1px solid #262633;color:#eee;padding:8px 10px;border-radius:8px}

/* Carousel */
#hero{position:relative;min-height:300px;padding:20px;background:linear-gradient(180deg, #1a0f12,transparent)}
#carousel-track{display:flex;gap:10px;overflow:auto;padding-bottom:8px}
#carousel-track .poster{min-width:220px;height:300px;border-radius:12px;background:#222;display:flex;align-items:flex-end;padding:12px;background-size:cover;background-position:center;animation:fadeup .6s ease}
.carousel-actions{position:absolute;bottom:16px;left:24px;display:flex;gap:8px}
.primary{background:var(--accent);border:0;color:#fff;padding:10px 14px;border-radius:999px;cursor:pointer}
.ghost{background:#333;border:0;color:#fff;padding:10px 14px;border-radius:999px;cursor:pointer}
@keyframes fadeup{from{opacity:0;transform:translateY(8px)}to{opacity:1;transform:translateY(0)}

/* Layout */
main{padding:12px 14px}
.tab-section.hidden{display:none}
.grid{display:grid;grid-template-columns:repeat(auto-fill,minmax(150px,1fr));gap:10px}
.fadein > *{animation:fadeup .4s ease}
.card{background:#141418;border:1px solid #222;border-radius:10px;overflow:hidden;cursor:pointer}
.card .thumb{height:190px;background:#222;background-size:cover;background-position:center}
.card .meta{padding:8px;color:#ddd;font-size:14px;display:flex;align-items:center;justify-content:space-between;gap:6px}
.fav{border:0;background:#23232b;color:#fff;border-radius:8px;padding:4px 6px;cursor:pointer}
.fav.active{background:#e50914}

/* Live TV */
.import{display:flex;align-items:center;gap:6px;margin-bottom:10px;flex-wrap:wrap}
.import input{flex:1;min-width:220px}
.chip{background:#1c1c24;border:0;color:#ddd;padding:8px 10px;border-radius:999px;margin-right:4px;cursor:pointer}
.chip.active{background:var(--accent);color:#fff}
.player-panel{position:sticky;bottom:12px;background:#000;border:1px solid #222;border-radius:10px;padding:8px;margin-top:10px}
video{width:100%;height:240px;background:#000;border-radius:8px}
.epg{color:#bbb;font-size:13px;margin-top:6px;max-height:140px;overflow:auto}

/* Footer */
#footer{padding:14px;text-align:center;color:#aaa;border-top:1px solid #1e1e26;margin-top:16px}

/* Modal */
.modal{position:fixed;inset:0;background:rgba(0,0,0,.7);display:flex;align-items:center;justify-content:center;z-index:100}
.modal.hidden{display:none}
.modal-body{width:min(900px,92vw);background:#121218;border:1px solid #222;border-radius:12px;padding:14px;color:#eee;position:relative}
#closeModal{position:absolute;left:12px;top:8px;background:#222;border:0;color:#fff;width:32px;height:32px;border-radius:8px;cursor:pointer}
#modalContent img{max-width:100%;border-radius:10px;margin-bottom:10px}
.meta-row{display:flex;gap:10px;flex-wrap:wrap;color:#aaa;font-size:14px}
.cast-row{display:flex;gap:8px;overflow:auto;padding:6px 0}
.cast{min-width:110px;background:#1b1b22;border:1px solid #262633;border-radius:8px;padding:6px;text-align:center;font-size:12px}
.similar-grid{display:grid;grid-template-columns:repeat(auto-fill,minmax(130px,1fr));gap:8px;margin-top:8px}
.similar-grid .tile{background:#141418;border:1px solid #222;border-radius:8px;overflow:hidden}
.similar-grid .tile .thumb{height:170px;background:#222;background-size:cover;background-position:center}
.similar-grid .tile .caption{padding:8px;color:#ddd;font-size:12px}
.btn{background:#e50914;color:#fff;border:0;padding:8px 12px;border-radius:8px;cursor:pointer}
.btn:hover{opacity:.9}
.hidden{display:none}
