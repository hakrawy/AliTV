:root{
  --bg:#0b0b0f; --bg2:#121218; --fg:#fff; --accent:#e50914; --muted:#aaa;
}
*{box-sizing:border-box}
html,body{height:100%}
body{
  margin:0;color:var(--fg);font-family:"Tajawal",system-ui,Arial,sans-serif;
  background:radial-gradient(circle at 50% 20%,#151515 0%,#0b0b0f 100%);
  overflow-x:hidden; position:relative;
}

/* Ambient background */
body::before{
  content:""; position:fixed; inset:-20%;
  background:radial-gradient(600px 300px at 70% 10%, rgba(229,9,20,.20), transparent 60%),
             radial-gradient(700px 400px at 20% 80%, rgba(255,255,255,.06), transparent 60%);
  filter:blur(40px); z-index:-1; animation:bgSpot 18s ease-in-out infinite alternate;
}
@keyframes bgSpot{ from{transform:translateX(0)} to{transform:translateX(-2%)} }

/* Splash */
#splash{
  position:fixed; inset:0; background:radial-gradient(circle at center,#000 0%,#12080b 100%);
  display:flex; align-items:center; justify-content:center; flex-direction:column; z-index:999;
}
#splash.fade-out{opacity:0; visibility:hidden; transition:opacity .6s ease}
#splash .logo-anim{
  font-size:64px; font-weight:900; color:#fff; text-shadow:0 0 30px var(--accent),0 0 60px rgba(229,9,20,.35);
  animation:logoPulse 2.2s infinite alternate ease-in-out;
}
#splash .tagline{margin-top:10px;color:#ccc;opacity:0;animation:fadeInUp 1.2s ease .8s forwards}
@keyframes logoPulse{from{transform:scale(1);opacity:1}to{transform:scale(1.15);opacity:.9}}
@keyframes fadeInUp{from{opacity:0;transform:translateY(12px)}to{opacity:1;transform:translateY(0)}}

/* Header */
#topbar{
  position:sticky; top:0; z-index:50; background:rgba(11,11,15,.9); backdrop-filter:blur(10px);
  display:flex; align-items:center; justify-content:space-between; gap:12px;
  padding:10px 14px; border-bottom:1px solid #1f1f26;
}
.brand{font-weight:900;font-size:28px;color:var(--accent);text-shadow:0 0 15px rgba(229,9,20,.4)}
.tabs{display:flex; flex-wrap:wrap; gap:6px}
.tab-btn{
  background:transparent;border:0;color:#bbb;padding:8px 14px;border-radius:8px;cursor:pointer;transition:.25s
}
.tab-btn.active,.tab-btn:hover{background:var(--accent);color:#fff;transform:scale(1.05)}
.right-tools{display:flex;align-items:center;gap:8px}
.right-tools input,.right-tools select{
  background:#17171e; color:#e5e5e5; border:1px solid #2a2a33; border-radius:8px; padding:8px 10px; outline:none
}

/* Hero */
.carousel{padding:8px 14px 0}
#carousel-track{display:grid; grid-auto-flow:column; gap:8px; overflow-x:auto; padding-bottom:8px}
#carousel-track .poster{
  width:320px; height:160px; border-radius:12px; background-size:cover; background-position:center; position:relative
}
#carousel-track .poster .meta{
  position:absolute; bottom:8px; left:8px; right:8px; background:linear-gradient(to top, rgba(0,0,0,.65), transparent);
  padding:8px 10px; border-radius:8px; font-weight:700
}
.carousel-actions{display:flex; gap:8px; padding:8px 14px 0}
.primary,.ghost,.pill,.chip{position:relative; overflow:hidden}
.primary{background:var(--accent);color:#fff;border:0;padding:9px 14px;border-radius:10px;cursor:pointer}
.ghost{background:#1a1a24;color:#eee;border:1px solid #2a2a33;padding:9px 14px;border-radius:10px;cursor:pointer}

/* Ripple effect */
.ripple { position: relative; overflow: hidden; }
.ripple-wave {
  position: absolute; border-radius: 50%; pointer-events: none;
  transform: translate(-50%, -50%) scale(0);
  background: rgba(255,255,255,0.35);
  width: 20px; height: 20px; left: 0; top: 0; opacity: 0.9;
  animation: ripple 600ms ease-out forwards;
}
@keyframes ripple { to { transform: translate(-50%, -50%) scale(12); opacity: 0; } }

/* Sections / Grid */
.tab-section{padding:12px 10px}
.hidden{display:none !important}

.grid{
  display:grid; grid-template-columns:repeat(auto-fill, minmax(160px,1fr));
  gap:16px; padding:10px 4px 20px;
}
.card{
  position:relative; background:#141418; border-radius:12px; overflow:hidden; cursor:pointer;
  transform:translateY(0); transition:transform .3s ease, box-shadow .3s ease
}
.card:hover{transform:translateY(-5px) scale(1.03); box-shadow:0 8px 28px rgba(229,9,20,.25)}
.card .thumb{height:220px;background-size:cover;background-position:center;filter:brightness(.9);transition:.25s}
.card:hover .thumb{filter:brightness(1)}
.card .meta{padding:10px;display:flex;align-items:center;justify-content:space-between;color:#ddd;font-size:14px}
.fav{background:#2b2b35;border:0;border-radius:8px;color:#fff;padding:5px 7px;cursor:pointer}
.fav.active{background:var(--accent)}

/* Lazy background placeholder */
.lazy-bg { background-color: #1b1b1f; }

/* Skeleton */
.skeleton{height:240px;border-radius:12px; background:linear-gradient(90deg,#1b1b1f 25%,#24242c 50%,#1b1b1f 75%); background-size:200% 100%; animation:shimmer 1.2s infinite}
@keyframes shimmer{100%{background-position:-200% 0}}

/* Filters */
.pill,.chip{background:#1a1a24; border:0; color:#ccc; padding:8px 14px; border-radius:999px; cursor:pointer; transition:.2s}
.pill:hover,.chip:hover{background:#222230}
.pill.active,.chip.active{background:var(--accent); color:#fff}
.filter,.quick-filters{display:flex; gap:8px; padding:6px 2px 10px}

/* Live TV Player stylish (top) */
.player-area {
  width: 100%;
  background: linear-gradient(to bottom, #000 40%, #0b0b0f 100%);
  border-bottom: 1px solid #1a1a1a;
  padding: 20px 10px 40px;
  display: flex;
  flex-direction: column;
  align-items: center;
  justify-content: center;
  position: relative;
}
.player-area video {
  width: min(90%, 960px);
  height: 480px;
  border-radius: 12px;
  box-shadow: 0 10px 30px rgba(0,0,0,0.6);
  background: #000;
}
.player-area .epg {
  margin-top: 12px;
  color: #ccc;
  font-size: 15px;
  text-align: center;
  background: rgba(255,255,255,0.05);
  padding: 8px 16px;
  border-radius: 10px;
  backdrop-filter: blur(8px);
}

/* Modal */
.modal{position:fixed; inset:0; background:rgba(0,0,0,.6); display:flex; align-items:center; justify-content:center; z-index:80}
.modal.hidden{display:none}
.modal-body{width:min(920px,95vw); max-height:90vh; overflow:auto; background:#121218; border:1px solid #2a2a33; border-radius:14px; padding:16px}
#closeModal{position:sticky; top:0; float:left; background:#2d2d35; color:#fff; border:0; border-radius:8px; padding:6px 10px; cursor:pointer}

/* Footer */
#footer{padding:14px;text-align:center;color:#888;border-top:1px solid #1e1e26;margin-top:18px;font-size:13px}

/* Responsive */
@media (max-width:768px){
  #topbar{flex-direction:column; align-items:stretch}
  .grid{grid-template-columns:repeat(auto-fill,minmax(120px,1fr))}
  .card .thumb{height:180px}
  .player-area video{width:95%; height:220px}
}
